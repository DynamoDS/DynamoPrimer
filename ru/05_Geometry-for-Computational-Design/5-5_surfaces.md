

## Поверхности

Переход от кривых к поверхностям при работе над моделью позволяет нам добавлять в нее объекты, существующие в реальном трехмерном мире. Несмотря на то что кривые не всегда являются плоскими и по сути трехмерны, пространство, определяемое ими, всегда является одномерным. Поверхности позволяют придать модели дополнительное измерение, а также включают набор специальных свойств, которые можно использовать при выполнении других операций моделирования.

### Что такое поверхность

Поверхность — это математическая форма, определяемая функцией и двумя параметрами. Вместо параметра ```t```, используемого для кривых, здесь для описания соответствующего пространства используются параметры ```U``` и ```V```. Это означает, что при работе с геометрией этого типа появляются дополнительные данные для использования. Например, у кривых есть касательные векторы и плоскости нормали (которые могут поворачиваться или скручиваться вдоль кривой), а у поверхностей есть векторы нормали и касательные плоскости с последовательной ориентацией.

![Поверхность](images/5-5/Surface.jpg)

> 1. Поверхность
2. Изолиния U
3. Изолиния V
4. Координата UV
5. Перпендикулярная плоскость
6. Вектор нормали

**Область поверхности**: определяется как диапазон параметров (U,V), каждый из которых соответствует трехмерной точке на этой поверхности. Область каждого измерения (U или V) обычно определяется двумя числами: (от U мин. до U макс.) и (от V мин. до V макс.).

![Поверхность](images/5-5/SurfaceParameter.jpg)

Хотя поверхность может не выглядеть как прямоугольник, а некоторые ее участки могут отличаться более или менее плотным расположением изолиний, «пространство», определяемое областью поверхности, всегда является двумерным. В Dynamo всегда подразумевается, что область поверхности определяется диапазоном значений U и V, где минимальное значение равно 0.0, а максимальное — 1.0. У плоских или обрезанных поверхностей могут быть разные области.

**Изолиния** (или изопараметрическая кривая): кривая, определяемая постоянным значением для одного направления (U или V) на поверхности и областью значений для другого направления (V или U, соответственно).

**Координата UV**: точка в пространстве параметров UV, определяемая значениями U, V и иногда W.

![Координата поверхности](images/5-5/SurfaceCoordinate.jpg)

**Перпендикулярная плоскость**: плоскость, перпендикулярная изолиниям U и V в заданной координате UV.

**Вектор нормали**: вектор, определяющий направление вверх относительно перпендикулярной плоскости.

### Поверхности NURBS

**Поверхности NURBS** очень похожи на NURBS-кривые. Такую поверхность можно представить как сетку из NURBS-кривых, идущих в двух направлениях. Форма поверхности NURBS определяется набором управляющих точек и степенью сглаживания этой поверхности в направлениях U и V. Те же алгоритмы используются для вычисления формы, нормалей, касательных, кривизны и других свойств с помощью управляющих точек, весов и степени сглаживания.

![Поверхность NURBS](images/5-5/NURBSsurface.jpg)

В случае с поверхностями NURBS для геометрии подразумевается два направления, поскольку эти поверхности являются прямоугольными сетками из управляющих точек, хотя они и могут выглядеть совсем по-другому. Эти направления во многих случаях задаются произвольным образом на основе мировой системы координат, однако они часто используются для анализа моделей или создания других геометрических объектов на основе поверхности.

![Поверхность NURBS](images/5-5/NURBSsurface-Degree.jpg)

> 1. Степень сглаживания (U,V) = (3,3)
2. Степень сглаживания (U,V) = (3,1)
3. Степень сглаживания (U,V) = (1,2)
4. Степень сглаживания (U,V) = (1,1)

### Полиповерхности

**Полиповерхности** состоят из нескольких поверхностей, кромки которых соединены. Полиповерхности обеспечивают более детализированные сведения, нежели простое двумерное определение UV, благодаря чему их можно использовать для перехода по соединенным формам посредством их топологии.

> Термин «топология» в большинстве случаев используется для обозначения того, как различные элементы связаны и взаимодействуют друг с другом. В Dynamo топология (Topology) также является типом геометрии. Topology является родительской категорией таких объектов, как поверхности (Surface), полиповерхности (Polysurface) и тела (Solid).

![Полиповерхность](images/5-5/PolySurface.jpg)

Объединение поверхностей таким образом (иногда называемым замыканием) позволяет создавать более сложные формы, а также детализировать стыки. К кромкам объекта Polysurface можно применять операции сопряжения или фаски.

Импортируйте в Dynamo и проанализируйте объект Surface в конкретном параметре, чтобы узнать, какие сведения можно извлечь.

![Поверхности в Dynamo](images/5-5/Dynamo_Surfaces.jpg)

> 1. *Surface.PointAtParameter* возвращает объект Point в заданной координате UV.
2. *Surface.NormalAtParameter* возвращает вектор нормали в заданной координате UV.
3. *Surface.GetIsoline* возвращает изопараметрическую кривую в координате U или V (обратите внимание на порт ввода isoDirection).
> Скачайте файлы примера для этого изображения (щелкните правой кнопкой мыши и выберите «Сохранить ссылку как...»). Полный список файлов примеров можно найти в приложении.

> 1. [Geometry for Computational Design - Surfaces.dyn](datasets/5-5/Geometry for Computational Design - Surfaces.dyn)
2. [Surface.sat](datasets/5-5/Surface.sat)

